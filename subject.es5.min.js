"use strict";var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var Subject=function(){function a(){_classCallCheck(this,a),this.subscribers=[]}return _createClass(a,[{key:"subscribe",value:function subscribe(b){var d=this;this.subscribers.push({});var c=this.subscribers[this.subscribers.length-1];return c.callback=b,c.unsubscribe=function(){c.callback=null,d.cleanup()},c}},{key:"next",value:function next(b){this.subscribers.forEach(function(c){return c.callback?c.callback(b):null})}},{key:"cleanup",value:function cleanup(){for(var b;b<this.subscribers.length;b++)this.subscribers[b].callback||(this.subscribers[b]=null,this.subscribers.splice(b,1))}}]),a}();
